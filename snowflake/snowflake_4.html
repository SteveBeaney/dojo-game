
<html>
<body>

<canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;">
</canvas>

<script>

    function transform( o, p ){
        return [0,0];
    }

    function generate( points ) {
        var result = [];
        result.push( points[0] )
        for( var i = 1; i < points.length; i++ ) {

//            result.push( [(points[i][0]+points[i-1][0])/2.0,(points[i][1]+points[i-1][1])/2.0] );
            result.push( transform( points[i-1], points[i]) );


            result.push( points[i] );


        }


        return result;
    }


    var points = [[200,400],
                  [600,400]];

    points = generate( points );



    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    ctx.moveTo(points[0][0],points[0][1]);
    for( var i = 1; i < points.length; i++ ) {
        ctx.lineTo(points[i][0], points[i][1]);
        ctx.stroke();
    }

</script>

</body>
</html>
